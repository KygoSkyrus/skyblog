<!doctype html>
<html lang="en">
    
<!-- Mirrored from bhulua.thememinister.com/tables_data_bootstrap4.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Jul 2021 09:49:18 GMT -->
<head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="">
        <title>Admin panel</title>
        <!-- App favicon -->
        <link rel="shortcut icon" href="">
        <!--Global Styles(used by all pages)-->
        <link href="assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <link href="assets/plugins/metisMenu/metisMenu.min.css" rel="stylesheet">
        <link href="assets/plugins/fontawesome/css/all.min.css" rel="stylesheet">
        <link href="assets/plugins/typicons/src/typicons.min.css" rel="stylesheet">
        <link href="assets/plugins/themify-icons/themify-icons.min.css" rel="stylesheet">
        <!--Third party Styles(used by this page)--> 
        <link href="assets/plugins/datatables/dataTables.bootstrap4.min.css" rel="stylesheet">
        <link href="assets/plugins/datatables/responsive.bootstrap4.min.css" rel="stylesheet">
        <!--Start Your Custom Style Now-->
        <link href="assets/dist/css/style.css" rel="stylesheet">

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        
        
    <!-- you need to include the shieldui css and js assets in order for the components to work -->
    <link
    rel="stylesheet"
    type="text/css"
    href="http://www.shieldui.com/shared/components/latest/css/light/all.min.css"
  />

  <script
    src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
    crossorigin="anonymous"
  ></script>

  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    </head>
    <body class="fixed">
        <!-- Page Loader -->
        <div class="page-loader-wrapper">
            <div class="loader">
                <div class="preloader">
                    <div class="spinner-layer pl-green">
                        <div class="circle-clipper left">
                            <div class="circle"></div>
                        </div>
                        <div class="circle-clipper right">
                            <div class="circle"></div>
                        </div>
                    </div>
                </div>
                <p>Please wait...</p>
            </div>
        </div>
        <!-- #END# Page Loader -->


        
         <!-- Modal -->
  <div class="modal fade" id="change" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog  modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Change Password</h5>
          <button type="button" id="close" class="btn-close" data-bs-dismiss="modal" aria-label="Close" style="background-color: inherit;border: none;outline: none;cursor: pointer;">X</button>
        </div>
        <div class="modal-body">
            <div class="d-flex align-items-center justify-content-center text-center ">
                <div class="form-wrapper m-auto"  style="width: 100%;">
                    <div class="form-container my-4" style="max-width: unset;" >
                        
                        <div class="panel" style="border: none;box-shadow: none;">
                            <form class="register-form">
                              <div class="form-group">
                                <input type="text" class="form-control" id="uname" placeholder="username">
                            </div>
                                 <div class="form-group">
                                    <input type="password" class="form-control" id="password" placeholder="Old Password">
                                </div>
                                <div class="form-group">
                                    <input type="password" class="form-control" id="newPassword" placeholder="New Password">
                                </div>
                                <section class="btn btn-success btn-block" onclick="cpswrd()">Change password</section>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
      </div>
    </div>
  </div>






        <div class="wrapper">
            <!-- Sidebar  -->
            <nav class="sidebar sidebar-bunker">
               
                <div class="profile-element d-flex align-items-center flex-shrink-0">
                    <div class="avatar online">
                        <img src="https://i7.pngguru.com/preview/527/663/825/logo-person-user-person-icon.jpg" class="img-fluid rounded-circle" alt="">
                    </div>
                    <div class="profile-text">
                        <h6 class="m-0">Admin Panel</h6>
                  
                    </div>
                </div><!--/.profile element-->
             
                <div class="sidebar-body">
                    <nav class="sidebar-nav">
                        <ul class="metismenu">
                            <li class="nav-label">Main Menu</li>
                            <li class="">
                                <a class=" material-ripple" href="dashboard">
                                    <i class="typcn typcn-home-outline mr-2"></i>
                                    Dashboard
                                </a>
                            </li>
                         
                            <li class="mm-active">
                                <a class=" material-ripple" href="registered-users">
                                    <i class="typcn typcn-archive mr-2"></i>
                                    User registration details
                                </a>
                            </li>
                            
                          
                        </ul>
                    </nav>
                </div><!-- sidebar-body -->
            </nav>
            <!-- Page Content  -->
            <div class="content-wrapper">
                <div class="main-content">
                    <nav class="navbar-custom-menu navbar navbar-expand-lg m-0">
                        <div class="sidebar-toggle-icon" id="sidebarCollapse">
                            sidebar toggle<span></span>
                        </div><!--/.sidebar toggle icon-->
                        <div class="d-flex flex-grow-1">
                            <ul class="navbar-nav flex-row align-items-center ml-auto">
                                
                                <li class="nav-item dropdown user-menu">
                                    <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown">
                                        <!--<img src="assets/dist/img/user2-160x160.png" alt="">-->
                                        <i class="typcn typcn-user-add-outline"></i>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-right" >
                                        <div class="dropdown-header d-sm-none">
                                            <a href="#" class="header-arrow"><i class="icon ion-md-arrow-back"></i></a>
                                        </div>
                                        <div class="user-header">
                                            <div class="img-user">
                                                <img src="https://i7.pngguru.com/preview/527/663/825/logo-person-user-person-icon.jpg" alt="">
                                            </div><!-- img-user -->
                                            <h6>username</h6>
                                            <span><a href="cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="dfbaa7beb2afb3ba9fb8b2beb6b3f1bcb0b2">[email&#160;protected]</a></span>
                                        </div><!-- user-header -->
                                        <section  class="dropdown-item text-center" data-bs-toggle="modal" data-bs-target="#change" style="cursor: pointer;"><i class="typcn typcn-book"></i>change password</section>
                                        <a href="#" class="dropdown-item text-center" onclick="logout()"><i class="typcn typcn-key-outline"></i> Sign Out</a>
                                    </div><!--/.dropdown-menu -->
                                </li>
                            </ul><!--/.navbar nav-->
                            <div class="nav-clock">
                                <div class="time">
                                    <span class="time-hours"></span>
                                    <span class="time-min"></span>
                                    <span class="time-sec"></span>
                                </div>
                            </div><!-- nav-clock -->
                        </div>
                    </nav><!--/.navbar-->
                    
                    <div class="body-content">
                        <!--Bootstrap 4 styling-->
                        <div class="card mb-4">
                           
                           
                        </div>
                       


                        <script>
                          window.onload =  async function showData() {
                              console.log("showData function ran");
                      
                              const res = await fetch("/show", {
                                method: "POST",
                                headers: {
                                  "Content-Type": "application/json",
                                },
                                body: JSON.stringify({}),
                              });
                      
                              const data = await res.json();
                              console.log(data);
                      
                              var html = "<table id='exportTable' class='table table-hover' style='border-top: 2px solid white;'>";
                              html +=
                                " <thead><tr><th>Name</th><th>Email</th><th>Company</th><th>Position</th><th>Country</th><th>City</th><th>Message</th></tr></thead>";
                              for (var i = 0; i < data.length; i++) {
                                html += "<tr>";
                                html += "<td>" + data[i].name + "</td>";
                                html += "<td>" + data[i].email + "</td>";
                                html += "<td>" + data[i].company + "</td>";
                                html += "<td>" + data[i].position + "</td>";
                                html += "<td>" + data[i].country + "</td>";
                                html += "<td>" + data[i].city + "</td>";
                                html += "<td>" + data[i].message + "</td>";
                                html += "</tr>";
                              }
                              html += "</table>";
                              document.getElementById("box").innerHTML = html;
                            }
                          </script>




                        <!--Bootstrap 4 Print button-->
                        <div class="card">
                            <div class="card-header">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <h6 class="fs-17 font-weight-600 mb-0"> 
                                            <button id="exportButton" class="btn btn-lg text-light clearfix" style="background-color: #37a000;">
                                            <span class="fa fa-file-pdf-o"></span> Export to PDF
                                          </button>

                                          <button onclick="exportData()"  class="btn btn-lg text-light clearfix" style="background-color: #37a000;">
                                            <span class="fa fa-file-pdf-o"></span> Export to Excel
                                        </button>
                                        </h6>
                                    </div>
                                    <div class="text-right">
                                        <div class="actions">
                                            <a href="#" class="action-item"><i class="ti-reload"></i></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                      <div id="box"></div>
                                </div>
                            </div>
                            
                        </div>
                    </div><!--/.body content-->
                </div><!--/.main content-->
                <div class="overlay"></div>
            </div><!--/.wrapper-->
        </div>

      

        <script type="text/javascript">
            $("#exportButton").click(function () {
              // parse the HTML table element having an id=exportTable
              var dataSource = shield.DataSource.create({
                data: "#exportTable",
                schema: {
                  type: "table",
                  fields: {
                    Name: { type: String },
                    Email: { type: String },
                    Company: { type: String },
                    Position: { type: String },
                    Country: { type: String },
                    City: { type: String },
                    Message: { type: String },
                  },
                },
              });
      
              // when parsing is done, export the data to PDF
              dataSource.read().then(function (data) {
                var pdf = new shield.exp.PDFDocument({
                  author: "PrepBootstrap",
                  created: new Date(),
                });
      
                pdf.addPage("a4", "landscape");
      
                pdf.table(
                  25,
                  25,
                  data,
                  [
                    { field: "Name", title: "Name" },
                    { field: "Email", title: "Email" },
                    { field: "Company", title: "Company" },
                    { field: "Position", title: "Position" },
                    { field: "Country", title: "Country" },
                    { field: "City", title: "City" },
                    { field: "Message", title: "Message" },
                  ],
                  {
                    margins: {
                      top: 10,
                      left: 10,
                    },
                  }
                );
      
                pdf.saveAs({
                  fileName: "PrepBootstrapPDF",
                });
              });
            });
          </script>

          <script>
function exportData(){
    /* Get the HTML data using Element by Id */
    var table = document.getElementById("exportTable");
 
    /* Declaring array variable */
    var rows =[];
 
      //iterate through rows of table
    for(var i=0,row; row = table.rows[i];i++){
        //rows would be accessed using the "row" variable assigned in the for loop
        //Get each cell value/column from the row
        column1 = row.cells[0].innerText;
        column2 = row.cells[1].innerText;
        column3 = row.cells[2].innerText;
        column4 = row.cells[3].innerText;
        column5 = row.cells[4].innerText;
        column6 = row.cells[5].innerText;
        column7 = row.cells[6].innerText;
 
    /* add a new records in the array */
        rows.push(
            [
                column1,
                column2,
                column3,
                column4,
                column5,
                column6,
                column7
            ]
        );
 
        }
        csvContent = "data:text/csv;charset=utf-8,";
         /* add the column delimiter as comma(,) and each row splitted by new line character (\n) */
        rows.forEach(function(rowArray){
            row = rowArray.join(",");
            csvContent += row + "\r\n";
        });
    
        /* create a hidden <a> DOM node and set its download attribute */
        var encodedUri = encodeURI(csvContent);
        var link = document.createElement("a");
        link.setAttribute("href", encodedUri);
        link.setAttribute("download", "Stock_Price_Report.csv");
        document.body.appendChild(link);
         /* download the data file named "Stock_Price_Report.csv" */
        link.click();
}
          </script>



        <!--Global script(used by all pages)-->
        <script data-cfasync="false" src="cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="assets/plugins/jQuery/jquery-3.4.1.min.js"></script>
        <script src="assets/dist/js/popper.min.js"></script>
        <script src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
        <script src="assets/plugins/metisMenu/metisMenu.min.js"></script>
        <script src="assets/plugins/perfect-scrollbar/dist/perfect-scrollbar.min.js"></script>
        <!-- Third Party Scripts(used by this page)-->
        <script src="assets/plugins/datatables/dataTables.min.js"></script>
        <script src="assets/plugins/datatables/dataTables.bootstrap4.min.js"></script>
        <script src="assets/plugins/datatables/dataTables.responsive.min.js"></script>
        <script src="assets/plugins/datatables/responsive.bootstrap4.min.js"></script>
        <script src="assets/plugins/datatables/dataTables.buttons.min.js"></script>
        <script src="assets/plugins/datatables/buttons.bootstrap4.min.js"></script>
        <script src="assets/plugins/datatables/jszip.min.js"></script>
        <script src="assets/plugins/datatables/pdfmake.min.js"></script>
        <script src="assets/plugins/datatables/vfs_fonts.js"></script>
        <script src="assets/plugins/datatables/buttons.html5.min.js"></script>
        <script src="assets/plugins/datatables/buttons.print.min.js"></script>
        <script src="assets/plugins/datatables/buttons.colVis.min.js"></script>
        <!--Page Active Scripts(used by this page)-->
        <script src="assets/plugins/datatables/data-bootstrap4.active.js"></script>
        <!--Page Scripts(used by all page)-->
        <script src="assets/dist/js/sidebar.js"></script>


        <script
      type="text/javascript"
      src="http://www.shieldui.com/shared/components/latest/js/shieldui-all.min.js"
    ></script>
    <script
      type="text/javascript"
      src="http://www.shieldui.com/shared/components/latest/js/jszip.min.js"
    ></script>
    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"
    ></script>

     
  <script>
    async function cpswrd() {
         console.log("cpswrd function ran");
 
         const uname=document.getElementById('uname').value;
         const password=document.getElementById('password').value;
         const newPassword=document.getElementById('newPassword').value;
         console.log(uname,password,newPassword)

         const res = await fetch("/cpswrd", {
           method: "POST",
           headers: {
             "Content-Type": "application/json",
           },
            body: JSON.stringify({
              uname, password, newPassword
            }),
         });
 
         const data = await res.json();
         if(data.message=="changed"){
            alert("Password changed successfully!");
            document.getElementById('password').value="";
            document.getElementById('newPassword').value="";
            document.getElementById('close').click();
         }
       }
</script>

<script>
  async function logout() {
      console.log("logout function ran");
      const res = await fetch("/logout", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
         body: JSON.stringify({}),
      });

      const data = await res.json();
      console.log(data)
    }
</script>
    </body>

<!-- Mirrored from bhulua.thememinister.com/tables_data_bootstrap4.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Jul 2021 09:49:21 GMT -->
</html>